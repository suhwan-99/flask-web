{% extends "crud/base.html" %}
{% block title %} 회원 정보 수정 페이지 {% endblock %}

{% block content %}
  <h2>회원 정보 수정 페이지</h2>

  <form action="{{ url_for('crud.edit_user', user_id = user.id) }}" method="post" novalidate> 
        {{form.csrf_token}} 
    <p> {{form.username.label}} {{form.username(placeholder="사용자명", value=user.username)}} </p>
    <!-- 유효성 검사 실패 했을때 출력할 코드 -->
     {% for error in form.username.errors %}
        <span style="color: red;"> {{error}} </span>
     {% endfor %}

    <p> {{form.email.label}} {{form.email(placeholder="이메일", value=user.email)}}  </p>
    
    {% for error in form.email.errors %}
        <span style="color: red;"> {{error}} </span>
     {% endfor %}

    <p> {{form.password.label}} {{form.password(placeholder="비밀번호")}}  </p>

    {% for error in form.password.errors %}
        <span style="color: red;"> {{error}} </span>
     {% endfor %}

    <p> <input type="submit" value="수정하기"> </p>
  </form>
  <form action="{{ url_for ( 'crud.delete_user', user_id = user.id) }}" method="post">
    {{form.csrf_token}}
    <p> <input type="submit" value="삭제하기"> </p>

  </form>
{% endblock %}